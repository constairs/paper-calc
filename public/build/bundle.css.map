{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Calc.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import { onMount } from 'svelte';\r\n  import Calc from './Calc.svelte';\r\n  import * as animateScroll from 'svelte-scrollto';\r\n  import { v4 as uuidv4 } from 'uuid';\r\n\r\n  animateScroll.setGlobalOptions({\r\n    container: 'main',\r\n    offset: 466,\r\n  })\r\n\r\n  const initItem = () => ({\r\n    id: uuidv4(),\r\n    listsCount: '',\r\n    itemDensity: \"220\",\r\n    itemSize: `${70 * 100}`,\r\n  });\r\n\r\n  const handleAddItem = () => {\r\n    calcItems = calcItems.concat(initItem());\r\n\r\n    console.log(calcItems);\r\n    animateScroll.scrollToBottom();\r\n  };\r\n\r\n  const addToFavorite = (item) => {\r\n    console.log(item);\r\n    if (!history.find(a => (a.id === item.id))) {\r\n      history = history.concat(item);\r\n      localStorage.setItem('history', JSON.stringify(history));\r\n    } else {\r\n      history = history.map(a => (a.id === item.id ? item : a));\r\n    }\r\n  };\r\n\r\n  const removeFromFavourite = (id) => {\r\n    console.log(id);\r\n    history = history.filter(a => (a.id !== id));\r\n    console.log(history);\r\n\r\n    localStorage.setItem('history', JSON.stringify(history));\r\n  };\r\n\r\n  const updateItem = (updated) => {\r\n    console.log(updated);\r\n    calcItems = calcItems.map((a) => (a.id === updated.id\r\n      ? ({ ...a, ...updated })\r\n      : (a))\r\n    );\r\n  };\r\n\r\n  const openSidebar = () => {\r\n    sidebarIsOpened = !sidebarIsOpened;\r\n  };\r\n\r\n  let sidebarIsOpened = false;\r\n\r\n  export let calcItems = [];\r\n\r\n  export let history = [];\r\n\r\n  function getHistory() {\r\n    history = JSON.parse(localStorage.getItem('history')) || [];\r\n  }\r\n\r\n  onMount(() => {\r\n    getHistory();\r\n    calcItems = calcItems.concat(initItem())\r\n  });\r\n</script>\r\n\r\n<div class=\"main-container\">\r\n  <main class=\"main-block\">\r\n    <div class=\"main-block-content\">\r\n      <div class=\"main-heading\">\r\n        <div class=\"img\">\r\n          <img src=\"./main-image.png\" alt=\"Стопка бумаги изображение\" />\r\n        </div>\r\n        <h1>Paper tons calculator</h1>\r\n      </div>\r\n      {#each calcItems as item}\r\n        <Calc\r\n          bind:item={item}\r\n          itemDensity={item.itemDensity}\r\n          addToFavorite={addToFavorite}\r\n          updateItem={updateItem}\r\n        />\r\n      {/each}\r\n    \r\n      <button class=\"add-button\" on:click={handleAddItem}>+ Добавить ещё</button>\r\n    </div>\r\n  </main>\r\n  \r\n  <aside class={sidebarIsOpened ? 'opened' : ''}>\r\n    <button class=\"switch-btn\" on:click={openSidebar}>\r\n      {#if !sidebarIsOpened}\r\n        open\r\n      {:else}\r\n        close\r\n      {/if}\r\n    </button>\r\n    <h3>Избранное</h3>\r\n    {#if history.length}\r\n      <ul class=\"history-list\">\r\n        {#each history as histItem}\r\n          <li>\r\n            <span>{histItem.listsCount} x</span>\r\n              <span>\r\n                {histItem.itemSizeLabel} мм\r\n              </span>\r\n              <span>\r\n                {histItem.itemDensity} кг/м2\r\n              </span>\r\n            <button\r\n              on:click={() => {\r\n                navigator.clipboard.writeText(`${histItem.totalTons}`)\r\n                .then()\r\n                .catch();  \r\n              }}\r\n            >\r\n              {histItem.totalTons} т.\r\n            </button>\r\n            <button\r\n              on:click={() => {\r\n                removeFromFavourite(histItem.id);\r\n              }}\r\n            >\r\n              x\r\n            </button>\r\n          </li>\r\n        {/each}\r\n      </ul>\r\n    {/if}\r\n  </aside>\r\n</div>\r\n\r\n\r\n<style>\r\n  .main-container {\r\n    height: 100%;\r\n    max-height: 100vh;\r\n    display: flex;\r\n  }\r\n\r\n  .main-block-content {\r\n    max-width: 1000px;\r\n  }\r\n\r\n\tmain {\r\n\t\ttext-align: center;\r\n\t\tpadding: 1em;\r\n\t\tmax-width: 240px;\r\n\t\tmargin: 0 auto;\r\n    overflow-y: auto;\r\n    flex: 1 1 0;\r\n\t}\r\n\r\n  aside {\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    padding-top: 30px;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    border-left: 3px solid #c0c0c0;\r\n    flex: 0 0 500px;\r\n  }\r\n\r\n  .switch-btn {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    display: none;\r\n  }\r\n\r\n  .main-heading {\r\n    display: flex;\r\n  }\r\n\r\n  .main-heading .img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n\r\n  .main-heading .img img {\r\n    max-width: 100%;\r\n    display: block;\r\n    height: auto;\r\n  }\r\n\r\n  .add-button {\r\n    position: fixed;\r\n    left: 50%;\r\n    bottom: 30px;\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n\th1 {\r\n\t\tcolor: #c0c0c0;\r\n\t\ttext-transform: uppercase;\r\n\t\tfont-size: 4em;\r\n\t\tfont-weight: 100;\r\n\t}\r\n\r\n  .history-list {\r\n    list-style-type: none;\r\n    padding-left: 0;\r\n  }\r\n\r\n  .history-list li {\r\n    display: flex;\r\n    margin-bottom: 15px;\r\n    padding-bottom: 5px;\r\n    border-bottom: 1px solid #c0c0c0;\r\n  }\r\n\r\n  .history-list li span {\r\n    margin-right: 10px;\r\n  }\r\n\r\n  @media (max-width: 1600px) {\r\n    aside {\r\n      position: fixed;\r\n      right: 0;\r\n      top: 0;\r\n      max-width: 500px;\r\n      width: 100%;\r\n      height: 100vh;\r\n      background-color: #f0f0f0;\r\n      transform: translateX(500px);\r\n      transition: all .2s ease-in-out;\r\n    }\r\n\r\n    aside.opened {\r\n      transform: translateX(0);\r\n    }\r\n\r\n    .switch-btn {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n\t@media (min-width: 640px) {\r\n\t\tmain {\r\n\t\t\tmax-width: none;\r\n\t\t}\r\n\t}\r\n</style>",
    "<script>\r\n  export let item;\r\n\r\n  export let addToFavorite;\r\n  export let updateItem;\r\n\r\n  $: totalTons = +item.listsCount * ((+item.itemDensity * +item.itemSize) / 1000000000);\r\n\r\n  let desityLabels = {\r\n    220: '0.22 кг/м2',\r\n    240: '0.24 кг/м2',\r\n    260: '0.26 кг/м2',\r\n    270: '0.27 кг/м2',\r\n    280: '0.28 кг/м2',\r\n    295: '0.295 кг/м2',\r\n    300: '0.30 кг/м2',\r\n    330: '0.33 кг/м2',\r\n    350: '0.35 кг/м2',\r\n    380: '0.38 кг/м2',\r\n    610: '0.61 кг/м2',\r\n  };\r\n\r\n  let sizesLabels = {\r\n    [47 * 65]: '47 x 65 см',\r\n    [62 * 94]: '62 x 94 см',\r\n    [70 * 100]: '70 x 100 см',\r\n    [72 * 102]: '72 x 102 см',\r\n    [72 * 104]: '72 x 104 см',\r\n  };\r\n\r\n  let densityList = Object.entries(desityLabels).map(a => ({\r\n    value: a[0],\r\n    label: a[1],\r\n  }));\r\n\r\n  let sizes = Object.entries(sizesLabels).map(a => ({\r\n    value: a[0],\r\n    label: a[1],\r\n  }));\r\n\r\n  const clickCopyBtn = () => {\r\n    navigator.clipboard.writeText(`${totalTons}`)\r\n    .then()\r\n    .catch();\r\n  };\r\n\r\n  const clickAddToFavorite = () => {\r\n    updateItem({\r\n      ...item,\r\n      totalTons,\r\n      favourite: true,\r\n    });\r\n\r\n    addToFavorite({\r\n      ...item,\r\n      totalTons,\r\n      itemSizeLabel: sizesLabels[item.itemSize],\r\n      favourite: true,\r\n    });\r\n  };\r\n</script>\r\n\r\n<div class=\"calc-item\">\r\n  <div class=\"calc-item-field\">\r\n    <label for=\"listsCount\">Кол-во листов</label>\r\n    <input\r\n      type=\"text\"\r\n      id={`listsCount-${item.id}`}\r\n      bind:value={item.listsCount}\r\n      />\r\n  </div>\r\n\r\n  <fieldset class=\"calc-item-field\">\r\n    {#each densityList as density, idx}\r\n      <div class=\"radio-item\">\r\n        <input\r\n          type=\"radio\"\r\n          value={density.value}\r\n          bind:group={item.itemDensity}\r\n          name={`density-${item.id}`}\r\n          id={`density-${item.id}-${idx}`}\r\n        />\r\n        <label for={`density-${item.id}-${idx}`}>{density.label}</label>\r\n      </div>\r\n    {/each}\r\n  </fieldset>\r\n\r\n  <fieldset class=\"calc-item-field\">\r\n    {#each sizes as size, idx}\r\n      <div class=\"radio-item\">\r\n        <input\r\n          type=\"radio\"\r\n          value={size.value}\r\n          bind:group={item.itemSize}\r\n          name={`size-${item.id}`}\r\n          id={`size-${item.id}-${idx}`}\r\n        />\r\n        <label for={`size-${item.id}-${idx}`}>{size.label}</label>\r\n      </div>\r\n    {/each}\r\n  </fieldset>\r\n\r\n  <div class=\"calc-item-field\">\r\n    {#if totalTons}\r\n      <div class=\"total\">{totalTons} тонн</div>\r\n      <div>\r\n        <button on:click={clickCopyBtn}>Скопировать</button>\r\n        <button on:click={clickAddToFavorite}>\r\n          В избранное\r\n        </button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .calc-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: stretch;\r\n\r\n    padding: 30px 40px;\r\n    border-radius: 4px;\r\n    background-color: #c5d2d5;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  fieldset div {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 30px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  fieldset div label {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  /* button[disabled] {\r\n    background-color: currentColor;\r\n    color: #c0c0c0;\r\n  } */\r\n\r\n  .total {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .calc-item-field {\r\n    margin-right: 30px;\r\n    min-width: 200px;\r\n  }\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}