{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Calc.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from 'svelte';\n  import Calc from './Calc.svelte';\n  import * as animateScroll from 'svelte-scrollto';\n  import { v4 as uuidv4 } from 'uuid';\n\n  animateScroll.setGlobalOptions({\n    container: 'main',\n    offset: 466,\n  })\n\n  const initItem = () => ({\n    id: uuidv4(),\n    listsCount: '',\n    itemDensity: \"220\",\n    itemSize: `${70 * 100}`,\n  });\n\n  const handleAddItem = () => {\n    calcItems = calcItems.concat(initItem());\n\n    console.log(calcItems);\n    animateScroll.scrollToBottom();\n  };\n\n  const addToFavorite = (item) => {\n    console.log(item);\n    if (!history.find(a => (a.id === item.id))) {\n      history = history.concat(item);\n      localStorage.setItem('history', JSON.stringify(history));\n    } else {\n      history = history.map(a => (a.id === item.id ? item : a));\n    }\n  };\n\n  const removeFromFavourite = (id) => {\n    console.log(id);\n    history = history.filter(a => (a.id !== id));\n    console.log(history);\n\n    localStorage.setItem('history', JSON.stringify(history));\n  };\n\n  const updateItem = (updated) => {\n    console.log(updated);\n    calcItems = calcItems.map((a) => (a.id === updated.id\n      ? ({ ...a, ...updated })\n      : (a))\n    );\n  };\n\n  const openSidebar = () => {\n    sidebarIsOpened = !sidebarIsOpened;\n  };\n\n  let sidebarIsOpened = false;\n\n  export let calcItems = [];\n\n  export let history = [];\n\n  function getHistory() {\n    history = JSON.parse(localStorage.getItem('history')) || [];\n  }\n\n  onMount(() => {\n    getHistory();\n    calcItems = calcItems.concat(initItem())\n  });\n</script>\n\n<div class=\"main-container\">\n  <main class=\"main-block\">\n    <div class=\"main-block-content\">\n      <div class=\"main-heading\">\n        <div class=\"img\">\n          <img src=\"./main-image.png\" alt=\"Стопка бумаги изображение\" />\n        </div>\n        <h1>Paper tons calculator</h1>\n      </div>\n      {#each calcItems as item}\n        <Calc\n          bind:item={item}\n          itemDensity={item.itemDensity}\n          addToFavorite={addToFavorite}\n          updateItem={updateItem}\n        />\n      {/each}\n    \n      <button class=\"add-button\" on:click={handleAddItem}>+ Добавить ещё</button>\n    </div>\n  </main>\n  \n  <aside class={sidebarIsOpened ? 'opened' : ''}>\n    <button class=\"switch-btn\" on:click={openSidebar}>\n      {#if !sidebarIsOpened}\n        open\n      {:else}\n        close\n      {/if}\n    </button>\n    <h3>Избранное</h3>\n    {#if history.length}\n      <ul class=\"history-list\">\n        {#each history as histItem}\n          <li>\n            <span>{histItem.listsCount} x</span>\n              <span>\n                {histItem.itemSizeLabel} мм\n              </span>\n              <span>\n                {histItem.itemDensity} кг/м2\n              </span>\n            <button\n              on:click={() => {\n                navigator.clipboard.writeText(`${histItem.totalTons}`)\n                .then()\n                .catch();  \n              }}\n            >\n              {histItem.totalTons} т.\n            </button>\n            <button\n              on:click={() => {\n                removeFromFavourite(histItem.id);\n              }}\n            >\n              x\n            </button>\n          </li>\n        {/each}\n      </ul>\n    {/if}\n  </aside>\n</div>\n\n\n<style>\n  .main-container {\n    height: 100%;\n    max-height: 100vh;\n    display: flex;\n  }\n\n  .main-block-content {\n    max-width: 1000px;\n  }\n\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n    overflow-y: auto;\n    flex: 1 1 0;\n\t}\n\n  aside {\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding-top: 30px;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-left: 3px solid #c0c0c0;\n    flex: 0 0 500px;\n  }\n\n  .switch-btn {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n  }\n\n  .main-heading {\n    display: flex;\n  }\n\n  .main-heading .img {\n    width: 200px;\n    height: 200px;\n  }\n\n  .main-heading .img img {\n    max-width: 100%;\n    display: block;\n    height: auto;\n  }\n\n  .add-button {\n    position: fixed;\n    left: 50%;\n    bottom: 30px;\n    transform: translateX(-50%);\n  }\n\n\th1 {\n\t\tcolor: #c0c0c0;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 4em;\n\t\tfont-weight: 100;\n\t}\n\n  .history-list {\n    list-style-type: none;\n    padding-left: 0;\n  }\n\n  .history-list li {\n    display: flex;\n    margin-bottom: 15px;\n    padding-bottom: 5px;\n    border-bottom: 1px solid #c0c0c0;\n  }\n\n  .history-list li span {\n    margin-right: 10px;\n  }\n\n  @media (max-width: 1600px) {\n    aside {\n      position: fixed;\n      right: 0;\n      top: 0;\n      max-width: 500px;\n      width: 100%;\n      height: 100vh;\n      background-color: #f0f0f0;\n      transform: translateX(500px);\n      transition: all .2s ease-in-out;\n    }\n\n    aside.opened {\n      transform: translateX(0);\n    }\n\n    .switch-btn {\n      display: block;\n    }\n  }\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>",
    "<script>\r\n  export let item;\r\n\r\n  export let addToFavorite;\r\n  export let updateItem;\r\n\r\n  $: totalTons = Math.ceil(+item.listsCount * ((+item.itemDensity / 1000) * +item.itemSize));\r\n\r\n  let desityLabels = {\r\n    220: '0.22 кг/м2',\r\n    240: '0.24 кг/м2',\r\n    260: '0.26 кг/м2',\r\n    270: '0.27 кг/м2',\r\n    280: '0.28 кг/м2',\r\n    295: '0.295 кг/м2',\r\n    300: '0.30 кг/м2',\r\n    330: '0.33 кг/м2',\r\n    350: '0.35 кг/м2',\r\n    380: '0.38 кг/м2',\r\n    610: '0.61 кг/м2',\r\n  };\r\n\r\n  let sizesLabels = {\r\n    [47 * 65]: '47 x 65 см',\r\n    [62 * 94]: '62 x 94 см',\r\n    [70 * 100]: '70 x 100 см',\r\n    [72 * 102]: '72 x 102 см',\r\n    [72 * 104]: '72 x 104 см',\r\n  };\r\n\r\n  let densityList = Object.entries(desityLabels).map(a => ({\r\n    value: a[0],\r\n    label: a[1],\r\n  }));\r\n\r\n  let sizes = Object.entries(sizesLabels).map(a => ({\r\n    value: a[0],\r\n    label: a[1],\r\n  }));\r\n\r\n  const clickCopyBtn = () => {\r\n    navigator.clipboard.writeText(`${totalTons}`)\r\n    .then()\r\n    .catch();\r\n  };\r\n\r\n  const clickAddToFavorite = () => {\r\n    updateItem({\r\n      ...item,\r\n      totalTons,\r\n      favourite: true,\r\n    });\r\n\r\n    addToFavorite({\r\n      ...item,\r\n      totalTons,\r\n      itemSizeLabel: sizesLabels[item.itemSize],\r\n      favourite: true,\r\n    });\r\n  };\r\n</script>\r\n\r\n<div class=\"calc-item\">\r\n  <div class=\"calc-item-field\">\r\n    <label for=\"listsCount\">Кол-во листов</label>\r\n    <input\r\n      type=\"text\"\r\n      id={`listsCount-${item.id}`}\r\n      bind:value={item.listsCount}\r\n      />\r\n  </div>\r\n\r\n  <fieldset class=\"calc-item-field\">\r\n    {#each densityList as density, idx}\r\n      <div class=\"radio-item\">\r\n        <input\r\n          type=\"radio\"\r\n          value={density.value}\r\n          bind:group={item.itemDensity}\r\n          name={`density-${item.id}`}\r\n          id={`density-${item.id}-${idx}`}\r\n        />\r\n        <label for={`density-${item.id}-${idx}`}>{density.label}</label>\r\n      </div>\r\n    {/each}\r\n  </fieldset>\r\n\r\n  <fieldset class=\"calc-item-field\">\r\n    {#each sizes as size, idx}\r\n      <div class=\"radio-item\">\r\n        <input\r\n          type=\"radio\"\r\n          value={size.value}\r\n          bind:group={item.itemSize}\r\n          name={`size-${item.id}`}\r\n          id={`size-${item.id}-${idx}`}\r\n        />\r\n        <label for={`size-${item.id}-${idx}`}>{size.label}</label>\r\n      </div>\r\n    {/each}\r\n  </fieldset>\r\n\r\n  <div class=\"calc-item-field\">\r\n    {#if totalTons}\r\n      <div class=\"total\">{totalTons} тонн</div>\r\n      <div>\r\n        <button on:click={clickCopyBtn}>Скопировать</button>\r\n        <button on:click={clickAddToFavorite}>\r\n          В избранное\r\n        </button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .calc-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: stretch;\r\n\r\n    padding: 30px 40px;\r\n    border-radius: 4px;\r\n    background-color: #c5d2d5;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  fieldset div {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 30px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  fieldset div label {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  /* button[disabled] {\r\n    background-color: currentColor;\r\n    color: #c0c0c0;\r\n  } */\r\n\r\n  .total {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .calc-item-field {\r\n    margin-right: 30px;\r\n    min-width: 200px;\r\n  }\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}