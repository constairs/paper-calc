var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}const s="undefined"!=typeof window;let r=s?()=>window.performance.now():()=>Date.now(),u=s?t=>requestAnimationFrame(t):t;const a=new Set;function d(t){a.forEach((e=>{e.c(t)||(a.delete(e),e.f())})),0!==a.size&&u(d)}function f(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}let w;function z(t){w=t}function S(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const T=[],C=[],k=[],L=[],E=Promise.resolve();let O=!1;function D(t){k.push(t)}let I=!1;const A=new Set;function H(){if(!I){I=!0;do{for(let t=0;t<T.length;t+=1){const e=T[t];z(e),j(e.$$)}for(z(null),T.length=0;C.length;)C.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];A.has(e)||(A.add(e),e())}k.length=0}while(T.length);for(;L.length;)L.pop()();O=!1,I=!1,A.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const F=new Set;let N;function M(t,e){t&&t.i&&(F.delete(t),t.i(e))}function R(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),N.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function V(t,n,i){const{fragment:c,on_mount:s,on_destroy:r,after_update:u}=t.$$;c&&c.m(n,i),D((()=>{const n=s.map(e).filter(l);r?r.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(D)}function P(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(T.push(t),O||(O=!0,E.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,l,i,c,s,r,u=[-1]){const a=w;z(e);const d=l.props||{},f=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let m=!1;if(f.ctx=i?i(e,d,((t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](l),m&&q(e,t)),n})):[],f.update(),m=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();l.intro&&M(e.$$.fragment),V(e,l.target,l.anchor),H()}z(a)}class U{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t,e,n){const o=t.slice();return o[14]=e[n],o[16]=n,o}function Y(t,e,n){const o=t.slice();return o[17]=e[n],o[16]=n,o}function B(t){let e,n,o,l,i,c,s,r,u,a,d,g,x=t[17].label+"";return{c(){e=h("div"),n=h("input"),c=y(),s=h("label"),r=v(x),a=y(),b(n,"type","radio"),n.__value=o=t[17].value,n.value=n.__value,b(n,"name",l="density-"+t[0].id),b(n,"id",i=`density-${t[0].id}-${t[16]}`),t[10][0].push(n),b(s,"for",u=`density-${t[0].id}-${t[16]}`),b(s,"class","svelte-izlsg1"),b(e,"class","radio-item svelte-izlsg1")},m(o,l){m(o,e,l),f(e,n),n.checked=n.__value===t[0].itemDensity,f(e,c),f(e,s),f(s,r),f(e,a),d||(g=$(n,"change",t[9]),d=!0)},p(t,e){1&e&&l!==(l="density-"+t[0].id)&&b(n,"name",l),1&e&&i!==(i=`density-${t[0].id}-${t[16]}`)&&b(n,"id",i),1&e&&(n.checked=n.__value===t[0].itemDensity),1&e&&u!==(u=`density-${t[0].id}-${t[16]}`)&&b(s,"for",u)},d(o){o&&p(e),t[10][0].splice(t[10][0].indexOf(n),1),d=!1,g()}}}function G(t){let e,n,o,l,i,c,s,r,u,a,d,g,x=t[14].label+"";return{c(){e=h("div"),n=h("input"),c=y(),s=h("label"),r=v(x),a=y(),b(n,"type","radio"),n.__value=o=t[14].value,n.value=n.__value,b(n,"name",l="size-"+t[0].id),b(n,"id",i=`size-${t[0].id}-${t[16]}`),t[10][1].push(n),b(s,"for",u=`size-${t[0].id}-${t[16]}`),b(s,"class","svelte-izlsg1"),b(e,"class","radio-item svelte-izlsg1")},m(o,l){m(o,e,l),f(e,n),n.checked=n.__value===t[0].itemSize,f(e,c),f(e,s),f(s,r),f(e,a),d||(g=$(n,"change",t[11]),d=!0)},p(t,e){1&e&&l!==(l="size-"+t[0].id)&&b(n,"name",l),1&e&&i!==(i=`size-${t[0].id}-${t[16]}`)&&b(n,"id",i),1&e&&(n.checked=n.__value===t[0].itemSize),1&e&&u!==(u=`size-${t[0].id}-${t[16]}`)&&b(s,"for",u)},d(o){o&&p(e),t[10][1].splice(t[10][1].indexOf(n),1),d=!1,g()}}}function K(t){let e,n,l,i,c,s,r,u,a,d;return{c(){e=h("div"),n=v(t[1]),l=v(" тонн"),i=y(),c=h("div"),s=h("button"),s.textContent="Скопировать",r=y(),u=h("button"),u.textContent="В избранное",b(e,"class","total svelte-izlsg1")},m(o,p){m(o,e,p),f(e,n),f(e,l),m(o,i,p),m(o,c,p),f(c,s),f(c,r),f(c,u),a||(d=[$(s,"click",t[4]),$(u,"click",t[5])],a=!0)},p(t,e){2&e&&x(n,t[1])},d(t){t&&p(e),t&&p(i),t&&p(c),a=!1,o(d)}}}function Q(e){let n,o,l,i,c,s,r,u,a,d,v,x,w,z,S=e[2],T=[];for(let t=0;t<S.length;t+=1)T[t]=B(Y(e,S,t));let C=e[3],k=[];for(let t=0;t<C.length;t+=1)k[t]=G(X(e,C,t));let L=e[1]&&K(e);return{c(){n=h("div"),o=h("div"),l=h("label"),l.textContent="Кол-во листов",i=y(),c=h("input"),r=y(),u=h("fieldset");for(let t=0;t<T.length;t+=1)T[t].c();a=y(),d=h("fieldset");for(let t=0;t<k.length;t+=1)k[t].c();v=y(),x=h("div"),L&&L.c(),b(l,"for","listsCount"),b(l,"class","svelte-izlsg1"),b(c,"type","text"),b(c,"id",s="listsCount-"+e[0].id),b(o,"class","calc-item-field svelte-izlsg1"),b(u,"class","calc-item-field svelte-izlsg1"),b(d,"class","calc-item-field svelte-izlsg1"),b(x,"class","calc-item-field svelte-izlsg1"),b(n,"class","calc-item svelte-izlsg1")},m(t,s){m(t,n,s),f(n,o),f(o,l),f(o,i),f(o,c),_(c,e[0].listsCount),f(n,r),f(n,u);for(let t=0;t<T.length;t+=1)T[t].m(u,null);f(n,a),f(n,d);for(let t=0;t<k.length;t+=1)k[t].m(d,null);f(n,v),f(n,x),L&&L.m(x,null),w||(z=$(c,"input",e[8]),w=!0)},p(t,[e]){if(1&e&&s!==(s="listsCount-"+t[0].id)&&b(c,"id",s),1&e&&c.value!==t[0].listsCount&&_(c,t[0].listsCount),5&e){let n;for(S=t[2],n=0;n<S.length;n+=1){const o=Y(t,S,n);T[n]?T[n].p(o,e):(T[n]=B(o),T[n].c(),T[n].m(u,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}if(9&e){let n;for(C=t[3],n=0;n<C.length;n+=1){const o=X(t,C,n);k[n]?k[n].p(o,e):(k[n]=G(o),k[n].c(),k[n].m(d,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=C.length}t[1]?L?L.p(t,e):(L=K(t),L.c(),L.m(x,null)):L&&(L.d(1),L=null)},i:t,o:t,d(t){t&&p(n),g(T,t),g(k,t),L&&L.d(),w=!1,z()}}}function W(t,e,n){let{item:o}=e,{addToFavorite:l}=e,{updateItem:i}=e,c={3055:"47 x 65 см",5828:"62 x 94 см",7e3:"70 x 100 см",7344:"72 x 102 см",7488:"72 x 104 см"},s=Object.entries({220:"0.22 кг/м2",240:"0.24 кг/м2",260:"0.26 кг/м2",270:"0.27 кг/м2",280:"0.28 кг/м2",295:"0.295 кг/м2",300:"0.30 кг/м2",330:"0.33 кг/м2",350:"0.35 кг/м2",380:"0.38 кг/м2",610:"0.61 кг/м2"}).map((t=>({value:t[0],label:t[1]}))),r=Object.entries(c).map((t=>({value:t[0],label:t[1]})));let u;return t.$$set=t=>{"item"in t&&n(0,o=t.item),"addToFavorite"in t&&n(6,l=t.addToFavorite),"updateItem"in t&&n(7,i=t.updateItem)},t.$$.update=()=>{1&t.$$.dirty&&n(1,u=Math.ceil(+o.listsCount*(+o.itemDensity/1e3*+o.itemSize)))},[o,u,s,r,()=>{navigator.clipboard.writeText(""+u).then().catch()},()=>{i({...o,totalTons:u,favourite:!0}),l({...o,totalTons:u,itemSizeLabel:c[o.itemSize],favourite:!0})},l,i,function(){o.listsCount=this.value,n(0,o)},function(){o.itemDensity=this.__value,n(0,o)},[[],[]],function(){o.itemSize=this.__value,n(0,o)}]}class Z extends U{constructor(t){super(),J(this,t,W,Q,i,{item:0,addToFavorite:6,updateItem:7})}}var tt={$:t=>"string"==typeof t?document.querySelector(t):t,extend:(...t)=>Object.assign(...t),cumulativeOffset(t){let e=0,n=0;do{e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:n}},directScroll:t=>t&&t!==document&&t!==document.body,scrollTop(t,e){let n=void 0!==e;return this.directScroll(t)?n?t.scrollTop=e:t.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=e:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(t,e){let n=void 0!==e;return this.directScroll(t)?n?t.scrollLeft=e:t.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=e:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const et={container:"body",duration:500,delay:0,offset:0,easing:function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1},onStart:t,onDone:t,onAborting:t,scrollX:!1,scrollY:!0},nt=t=>{let{offset:e,duration:n,delay:o,easing:l,x:i=0,y:c=0,scrollX:s,scrollY:f,onStart:m,onDone:p,container:g,onAborting:h,element:v}=t;"function"==typeof e&&(e=e());var y=tt.cumulativeOffset(g),$=v?tt.cumulativeOffset(v):{top:c,left:i},b=tt.scrollLeft(g),x=tt.scrollTop(g),_=$.left-y.left+e,w=$.top-y.top+e,z=_-b,S=w-x;let T=!0,C=!1,k=r()+o,L=k+n;function E(t){t||(C=!0,m(v,{x:i,y:c}))}function O(t){!function(t,e,n){s&&tt.scrollLeft(t,n),f&&tt.scrollTop(t,e)}(g,x+S*t,b+z*t)}function D(){T=!1}return function(t){let e;0===a.size&&u(d),new Promise((n=>{a.add(e={c:t,f:n})}))}((t=>{if(!C&&t>=k&&E(!1),C&&t>=L&&(O(1),D(),p(v,{x:i,y:c})),!T)return h(v,{x:i,y:c}),!1;if(C){O(0+1*l((t-k)/n))}return!0})),E(o),O(0),D},ot=t=>{if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;{let t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}},lt=t=>(t=(t=>{let e=tt.extend({},et,t);return e.container=tt.$(e.container),e.element=tt.$(e.element),e})(t),nt(tt.extend(t,{element:null,y:ot(t.container)})));var it="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),ct=new Uint8Array(16);function st(){if(!it)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return it(ct)}var rt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ut(t){return"string"==typeof t&&rt.test(t)}for(var at=[],dt=0;dt<256;++dt)at.push((dt+256).toString(16).substr(1));function ft(t,e,n){var o=(t=t||{}).random||(t.rng||st)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var l=0;l<16;++l)e[n+l]=o[l];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]).toLowerCase();if(!ut(n))throw TypeError("Stringified UUID is invalid");return n}(o)}function mt(t,e,n){const o=t.slice();return o[13]=e[n],o}function pt(t,e,n){const o=t.slice();return o[16]=e[n],o[17]=e,o[18]=n,o}function gt(t){let e,n,o;function l(e){t[8].call(null,e,t[16],t[17],t[18])}let i={itemDensity:t[16].itemDensity,addToFavorite:t[4],updateItem:t[6]};return void 0!==t[16]&&(i.item=t[16]),e=new Z({props:i}),C.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(e,"item",l))),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,n){V(e,t,n),o=!0},p(o,l){t=o;const i={};var c;1&l&&(i.itemDensity=t[16].itemDensity),!n&&1&l&&(n=!0,i.item=t[16],c=()=>n=!1,L.push(c)),e.$set(i)},i(t){o||(M(e.$$.fragment,t),o=!0)},o(t){R(e.$$.fragment,t),o=!1},d(t){P(e,t)}}}function ht(t){let e;return{c(){e=v("close")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function vt(t){let e;return{c(){e=v("open")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function yt(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=$t(mt(t,n,e));return{c(){e=h("ul");for(let t=0;t<o.length;t+=1)o[t].c();b(e,"class","history-list svelte-11ncgdn")},m(t,n){m(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,l){if(34&l){let i;for(n=t[1],i=0;i<n.length;i+=1){const c=mt(t,n,i);o[i]?o[i].p(c,l):(o[i]=$t(c),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){t&&p(e),g(o,t)}}}function $t(t){let e,n,l,i,c,s,r,u,a,d,g,_,w,z,S,T,C,k,L,E,O,D=t[13].listsCount+"",I=t[13].itemSizeLabel+"",A=t[13].itemDensity+"",H=t[13].totalTons+"";function j(...e){return t[9](t[13],...e)}function F(...e){return t[10](t[13],...e)}return{c(){e=h("li"),n=h("span"),l=v(D),i=v(" x"),c=y(),s=h("span"),r=v(I),u=v(" мм"),a=y(),d=h("span"),g=v(A),_=v(" кг/м2"),w=y(),z=h("button"),S=v(H),T=v(" т."),C=y(),k=h("button"),k.textContent="x",L=y(),b(n,"class","svelte-11ncgdn"),b(s,"class","svelte-11ncgdn"),b(d,"class","svelte-11ncgdn"),b(e,"class","svelte-11ncgdn")},m(t,o){m(t,e,o),f(e,n),f(n,l),f(n,i),f(e,c),f(e,s),f(s,r),f(s,u),f(e,a),f(e,d),f(d,g),f(d,_),f(e,w),f(e,z),f(z,S),f(z,T),f(e,C),f(e,k),f(e,L),E||(O=[$(z,"click",j),$(k,"click",F)],E=!0)},p(e,n){t=e,2&n&&D!==(D=t[13].listsCount+"")&&x(l,D),2&n&&I!==(I=t[13].itemSizeLabel+"")&&x(r,I),2&n&&A!==(A=t[13].itemDensity+"")&&x(g,A),2&n&&H!==(H=t[13].totalTons+"")&&x(S,H)},d(t){t&&p(e),E=!1,o(O)}}}function bt(t){let e,n,l,i,s,r,u,a,d,v,x,_,w,z,S,T,C,k=t[0],L=[];for(let e=0;e<k.length;e+=1)L[e]=gt(pt(t,k,e));const E=t=>R(L[t],1,1,(()=>{L[t]=null}));function O(t,e){return t[2]?ht:vt}let D=O(t),I=D(t),A=t[1].length&&yt(t);return{c(){e=h("div"),n=h("main"),l=h("div"),i=h("div"),i.innerHTML='<div class="img svelte-11ncgdn"><img src="./main-image.png" alt="Стопка бумаги изображение" class="svelte-11ncgdn"/></div> \n        <h1 class="svelte-11ncgdn">Paper tons calculator</h1>',s=y();for(let t=0;t<L.length;t+=1)L[t].c();r=y(),u=h("button"),u.textContent="+ Добавить ещё",a=y(),d=h("aside"),v=h("button"),I.c(),x=y(),_=h("h3"),_.textContent="Избранное",w=y(),A&&A.c(),b(i,"class","main-heading svelte-11ncgdn"),b(u,"class","add-button svelte-11ncgdn"),b(l,"class","main-block-content svelte-11ncgdn"),b(n,"class","main-block svelte-11ncgdn"),b(v,"class","switch-btn svelte-11ncgdn"),b(d,"class",z=c(t[2]?"opened":"")+" svelte-11ncgdn"),b(e,"class","main-container svelte-11ncgdn")},m(o,c){m(o,e,c),f(e,n),f(n,l),f(l,i),f(l,s);for(let t=0;t<L.length;t+=1)L[t].m(l,null);f(l,r),f(l,u),f(e,a),f(e,d),f(d,v),I.m(v,null),f(d,x),f(d,_),f(d,w),A&&A.m(d,null),S=!0,T||(C=[$(u,"click",t[3]),$(v,"click",t[7])],T=!0)},p(t,[e]){if(81&e){let n;for(k=t[0],n=0;n<k.length;n+=1){const o=pt(t,k,n);L[n]?(L[n].p(o,e),M(L[n],1)):(L[n]=gt(o),L[n].c(),M(L[n],1),L[n].m(l,r))}for(N={r:0,c:[],p:N},n=k.length;n<L.length;n+=1)E(n);N.r||o(N.c),N=N.p}D!==(D=O(t))&&(I.d(1),I=D(t),I&&(I.c(),I.m(v,null))),t[1].length?A?A.p(t,e):(A=yt(t),A.c(),A.m(d,null)):A&&(A.d(1),A=null),(!S||4&e&&z!==(z=c(t[2]?"opened":"")+" svelte-11ncgdn"))&&b(d,"class",z)},i(t){if(!S){for(let t=0;t<k.length;t+=1)M(L[t]);S=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)R(L[t]);S=!1},d(t){t&&p(e),g(L,t),I.d(),A&&A.d(),T=!1,o(C)}}}function xt(t,e,n){var o;o={container:"main",offset:466},tt.extend(et,o||{});const l=()=>({id:ft(),listsCount:"",itemDensity:"220",itemSize:"7000"}),i=t=>{console.log(t),n(1,r=r.filter((e=>e.id!==t))),console.log(r),localStorage.setItem("history",JSON.stringify(r))};let c=!1,{calcItems:s=[]}=e,{history:r=[]}=e;S((()=>{n(1,r=JSON.parse(localStorage.getItem("history"))||[]),n(0,s=s.concat(l()))}));return t.$$set=t=>{"calcItems"in t&&n(0,s=t.calcItems),"history"in t&&n(1,r=t.history)},[s,r,c,()=>{n(0,s=s.concat(l())),console.log(s),lt()},t=>{console.log(t),r.find((e=>e.id===t.id))?n(1,r=r.map((e=>e.id===t.id?t:e))):(n(1,r=r.concat(t)),localStorage.setItem("history",JSON.stringify(r)))},i,t=>{console.log(t),n(0,s=s.map((e=>e.id===t.id?{...e,...t}:e)))},()=>{n(2,c=!c)},function(t,e,o,l){o[l]=t,n(0,s)},t=>{navigator.clipboard.writeText(""+t.totalTons).then().catch()},t=>{i(t.id)}]}return new class extends U{constructor(t){super(),J(this,t,xt,bt,i,{calcItems:0,history:1})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
